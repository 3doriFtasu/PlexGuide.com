#!/bin/bash
#
# Title:      PlexGuide (Reference Title File)
# Author(s):  Admin9705 - Deiteq
# URL:        https://plexguide.com - http://github.plexguide.com
# GNU:        General Public License v3.0
################################################################################
---
- hosts: localhost
  gather_facts: true
  tasks:

  - name: Install Common Packages (Takes Awhile)
    apt: "name={{item}} state=present"
    with_items:
      - fuse
      - nano
      - fail2ban
      - wget
      - lsb-release
      - figlet
      - update-notifier-common
      - unionfs-fuse
      - mergerfs
      - software-properties-common
      - unrar
      - unzip
      - glances
      - python-pip
      - python3-pip
      - python-passlib
      - zip
      - curl
      - man-db
      - htop
      - openssh-server
      - dirmngr
      - npm
      - zip
      - apt-transport-https
      - ca-certificates
      - tree
      - ncdu
      - ctop
      - dialog
      - dnsutils
      - mc
      - apache2-utils
      - lsof
      - pwgen
      - gawk
      - python-lxml
      - acl
      - bc
    #ignore_errors: yes

  - name: Download MergerFS
    get_url: url=https://github.com/trapexit/mergerfs/releases/download/2.25.1/mergerfs_2.25.1.ubuntu-bionic_amd64.deb dest=/tmp/mergerfs.deb

  - name: Install MergerFS
    apt:
      deb: /tmp/mergerfs.deb
